
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ctBones/">
      
      
        <link rel="next" href="../dragon/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Distributed Persistence Diagram - TTK Online Example Database</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#distributed-persistence-diagram" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TTK Online Example Database" class="md-header__button md-logo" aria-label="TTK Online Example Database" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TTK Online Example Database
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Distributed Persistence Diagram
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TTK Online Example Database" class="md-nav__button md-logo" aria-label="TTK Online Example Database" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    TTK Online Example Database
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to the TTK Online Example Database!
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1manifoldLearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1-Manifold Learning
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1manifoldLearningCircles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1-Manifold Learning Circles
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2manifoldLearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2-Manifold Learning
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../BuiltInExample1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Builtin example 1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtInExample2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Builtin example 2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cinemaIO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CinemaIO
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../clusteringKelvinHelmholtzInstabilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clustering Kelvin Helmholtz Instabilities
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../compactTriangulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compact Triangulation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contourTreeAlignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contour Tree Alignment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cosmicWeb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cosmic Web
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ctBones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CT bones
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Distributed Persistence Diagram
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Distributed Persistence Diagram
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pipeline-description" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paraview" class="md-nav__link">
    <span class="md-ellipsis">
      ParaView
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-code" class="md-nav__link">
    <span class="md-ellipsis">
      Python code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-timing" class="md-nav__link">
    <span class="md-ellipsis">
      Performance timing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance timing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Run configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#measuring-time-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Measuring time performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-another-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Using another dataset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpython-api" class="md-nav__link">
    <span class="md-ellipsis">
      C++/Python API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dragon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dragon
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../geometryApproximation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geometry Approximation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../harmonicSkeleton/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harmonic Skeleton
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../imageProcessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Processing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../interactionSites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Interaction sites
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../karhunenLoveDigits64Dimensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Karhunen-Love Digits 64-Dimensions
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../manifoldCheck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manifold Check
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreeClustering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Tree Clustering
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreeExTreeM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Trees via ExTreeM
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreeFeatureTracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Tree Feature Tracking
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreePGA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Tree Principal Geodesic Analysis
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreeTemporalReduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Tree Temporal Reduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mergeTreeWAE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Merge Tree Wasserstein Auto-Encoder
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../morseMolecule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Morse molecule
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../morsePersistence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Morse persistence
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../morseSmaleQuadrangulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Morse-Smale Quadrangulation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../morseSmaleSegmentation_at/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Morse-Smale Segmentation AT
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mpiExample/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPI Example
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClustering0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering 0
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClustering1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering 1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClustering2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering 2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClustering3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering 3
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClustering4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering 4
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceClusteringGallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Clustering Gallery
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceDiagramClustering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Diagram Clustering
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceDiagramDistance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Diagram Distance
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceDiagramPGA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Diagram Principal Geodesic Analysis
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceDiagramWAE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence Diagram Wasserstein Auto-Encoder
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistenceDrivenCompression/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistence-Driven Compression
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_at/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators AT
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_casting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators Casting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_darkSky/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators DarkSky
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_fertility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators Fertility
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_householdAnalysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators Household Analysis
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_periodicPicture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators Periodic Picture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../persistentGenerators_skull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persistent Generators Skull
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tectonicPuzzle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tectonic Puzzle
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../timeTracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Time Tracking
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../topoMapTeaser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TopoMap Teaser
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../topologicalOptimization_darkSky/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topological Optimization DarkSky
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../topologicalOptimization_pegasus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topological Optimization for Pegasus Genus Repair
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../topologicalOptimization_torus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topological Optimization for Torus Genus Repair
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../trackingFromCriticalPoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tracking From Critical Points
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tribute to Edelsbrunner and Harer's book
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../uncertainStartingVortex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Uncertain Starting Vortex
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pipeline-description" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paraview" class="md-nav__link">
    <span class="md-ellipsis">
      ParaView
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-code" class="md-nav__link">
    <span class="md-ellipsis">
      Python code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-timing" class="md-nav__link">
    <span class="md-ellipsis">
      Performance timing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance timing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Run configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#measuring-time-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Measuring time performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-another-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Using another dataset
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      Output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpython-api" class="md-nav__link">
    <span class="md-ellipsis">
      C++/Python API
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="distributed-persistence-diagram">Distributed Persistence Diagram<a class="headerlink" href="#distributed-persistence-diagram" title="Permanent link">&para;</a></h1>
<p><img alt="DDMS example Image" src="https://topology-tool-kit.github.io/img/gallery/distributedPersistenceDiagram.jpg" /></p>
<p>This toy example illustrates the computation of a persistence diagram in a distributed-memory context with MPI using the <a href="https://arxiv.org/abs/2505.21266">Distributed Discrete Morse Sandwich algorithm</a>. For more information on  the usage of TTK in a distributed-memory context, please see the example <a href="../mpiExample/">MPI example</a>.</p>
<p>Please note both ParaView and TTK need to be compiled with MPI (using the CMake flags <code>PARAVIEW_USE_MPI=ON</code> and <code>TTK_ENABLE_MPI=ON</code> for ParaView and TTK respectively). TTK also requires to be compiled with OpenMP (using the CMake flag <code>TTK_ENABLE_OPENMP=ON</code>).
For processing large-scale datasets (typically beyond <span class="arithmatex"><span class="MathJax_Preview">1024^3</span><script type="math/tex">1024^3</script></span>), we recommend to build TTK with 64 bit identifiers (by setting the CMake flag <code>TTK_ENABLE_64BIT_IDS=ON</code>). For performance benchmarks (e.g., for comparing computation times), TTK needs to be built with the advanced CMake option <code>TTK_ENABLE_MPI_TIME</code> enabled, in order to display precise computation time evaluations. See the <a href="#performance-timing">Performance timing</a> section below. </p>
<p>The execution requires to set a thread support level of <code>MPI_THREAD_MULTIPLE</code> at runtime. For the library OpenMPI, this means setting the environment variable <code>OMPI_MPI_THREAD_LEVEL</code> to 3 (as shown in the examples below).</p>
<h2 id="pipeline-description">Pipeline description<a class="headerlink" href="#pipeline-description" title="Permanent link">&para;</a></h2>
<p>The produced visualization captures the persistence diagrams of each dimension (<span class="arithmatex"><span class="MathJax_Preview">D_0</span><script type="math/tex">D_0</script></span>, <span class="arithmatex"><span class="MathJax_Preview">D_1</span><script type="math/tex">D_1</script></span> and <span class="arithmatex"><span class="MathJax_Preview">D_2</span><script type="math/tex">D_2</script></span>, from left to right in the image).</p>
<p>First, the data is loaded and the grid is resampled (to <span class="arithmatex"><span class="MathJax_Preview">128^3</span><script type="math/tex">128^3</script></span> by default). </p>
<p>Then, a global ordering of the vertices is computed using the filter <a href="https://topology-tool-kit.github.io/doc/html/classttkArrayPreconditioning.html">ArrayPreconditioning</a>. This step will be triggered automatically if not explicitly called.</p>
<p>Then, the persistence diagram is computed via <a href="https://topology-tool-kit.github.io/doc/html/PersistenceDiagram_8h.html">PersistenceDiagram</a> and more specifically the
<a href="https://arxiv.org/abs/2505.21266">Distributed Discrete Morse Sandwich algorithm</a>
(specified in the choice of software backend). Note that, in the output, each MPI process will create a dummy pair modeling the diagonal, which may need to be filtered out prior to subsequent processing (e.g., Wasserstein distance computation). This is achieved by the last step of the pipeline, involving thresholding (see the <a href="#Python-code">Python code</a> below).</p>
<h2 id="paraview">ParaView<a class="headerlink" href="#paraview" title="Permanent link">&para;</a></h2>
<p>To reproduce the above screenshot on 2 processes and 4 threads, go to your <a href="https://github.com/topology-tool-kit/ttk-data">ttk-data</a> directory and enter the following command:</p>
<p><div class="highlight"><pre><span></span><code><span class="nv">OMPI_MPI_THREAD_LEVEL</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span><span class="w"> </span>mpirun<span class="w"> </span>--bind-to<span class="w"> </span>none<span class="w"> </span>--map-by<span class="w"> </span>node<span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span>pvserver<span class="w"> </span>
</code></pre></div>
In another command line enter the following command:
<div class="highlight"><pre><span></span><code>paraview<span class="w"> </span>
</code></pre></div>
Now, follow the procedure described in paragraph <span class="arithmatex"><span class="MathJax_Preview">8.2.2</span><script type="math/tex">8.2.2</script></span> of the following <a href="https://docs.paraview.org/en/latest/ReferenceManual/parallelDataVisualization.html#configuring-a-server-connection">ParaView documentation</a> to connect your ParaView server to your client. Once that is done, you can open the state file <code>states/distributedPersistenceDiagram.pvsm</code> in the ParaView GUI through <code>File</code> &gt; <code>Load State</code>.</p>
<h2 id="python-code">Python code<a class="headerlink" href="#python-code" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="ch">#!/usr/bin/env python</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">paraview.simple</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="mi">128</span>

<span class="c1"># create a new &#39;XML Image Data Reader&#39;</span>
<span class="n">backpack</span> <span class="o">=</span> <span class="n">XMLImageDataReader</span><span class="p">(</span><span class="n">FileName</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;backpack.vti&quot;</span><span class="p">])</span>

<span class="c1"># create a new &#39;Resample To Image&#39;</span>
<span class="n">resampleToImage1</span> <span class="o">=</span> <span class="n">ResampleToImage</span><span class="p">(</span><span class="n">Input</span><span class="o">=</span><span class="n">backpack</span><span class="p">)</span>
<span class="n">resampleToImage1</span><span class="o">.</span><span class="n">SamplingDimensions</span> <span class="o">=</span> <span class="p">[</span><span class="n">dim</span><span class="p">,</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dim</span><span class="p">]</span>
<span class="n">resampleToImage1</span><span class="o">.</span><span class="n">SamplingBounds</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">511.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">511.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">372.0</span><span class="p">]</span>

<span class="n">tTKArrayPreconditioning</span> <span class="o">=</span> <span class="n">TTKArrayPreconditioning</span><span class="p">(</span><span class="n">Input</span><span class="o">=</span><span class="n">resampleToImage1</span><span class="p">)</span>
<span class="n">tTKArrayPreconditioning</span><span class="o">.</span><span class="n">PointDataArrays</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ImageFile&quot;</span><span class="p">]</span>

<span class="c1"># create a new &#39;TTK PersistenceDiagram&#39;</span>
<span class="n">tTKPersistenceDiagram1</span> <span class="o">=</span> <span class="n">TTKPersistenceDiagram</span><span class="p">(</span><span class="n">Input</span><span class="o">=</span><span class="n">tTKArrayPreconditioning</span><span class="p">)</span>
<span class="n">tTKPersistenceDiagram1</span><span class="o">.</span><span class="n">ScalarField</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;POINTS&quot;</span><span class="p">,</span> <span class="s2">&quot;ImageFile&quot;</span><span class="p">]</span>
<span class="n">tTKPersistenceDiagram1</span><span class="o">.</span><span class="n">Backend</span> <span class="o">=</span> <span class="s2">&quot;Distributed Discrete Morse Sandwich&quot;</span>

<span class="c1"># remove the dummy pairs representing the diagonal</span>
<span class="n">threshold1</span> <span class="o">=</span> <span class="n">Threshold</span><span class="p">(</span><span class="n">Input</span><span class="o">=</span><span class="n">tTKPersistenceDiagram1</span><span class="p">)</span>
<span class="n">threshold1</span><span class="o">.</span><span class="n">Scalars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CELLS&#39;</span><span class="p">,</span> <span class="s1">&#39;PairType&#39;</span><span class="p">]</span>
<span class="n">threshold1</span><span class="o">.</span><span class="n">UpperThreshold</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">threshold1</span><span class="o">.</span><span class="n">ThresholdMethod</span> <span class="o">=</span> <span class="s1">&#39;Above Upper Threshold&#39;</span>

<span class="n">UpdatePipeline</span><span class="p">()</span>

<span class="c1"># To save the output to disk, uncomment the line below.</span>
<span class="c1"># SaveData(&#39;diagram.pvtu&#39;, proxy=threshold1)</span>

<span class="c1"># WARNING: due to a reported ParaView issue, when saving the output to disk in</span>
<span class="c1"># MPI mode, pvbatch will execute the pipeline twice in a row (instead of one).</span>
</code></pre></div></td></tr></table></div>
<p>To run the above Python script using 4 threads and 2 processes, go to your <a href="https://github.com/topology-tool-kit/ttk-data">ttk-data</a> directory and enter the following command:
<div class="highlight"><pre><span></span><code><span class="nv">OMPI_MPI_THREAD_LEVEL</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span><span class="w"> </span>mpirun<span class="w"> </span>--bind-to<span class="w"> </span>none<span class="w"> </span>--map-by<span class="w"> </span>node<span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span>pvbatch<span class="w"> </span>python/distributedPersistenceDiagram.py<span class="w"> </span>
</code></pre></div></p>
<p>By default, the dataset is resampled to <span class="arithmatex"><span class="MathJax_Preview">128^3</span><script type="math/tex">128^3</script></span>. To resample to a higher dimension, for example <span class="arithmatex"><span class="MathJax_Preview">256^3</span><script type="math/tex">256^3</script></span>, enter the following command:</p>
<p><div class="highlight"><pre><span></span><code><span class="nv">OMPI_MPI_THREAD_LEVEL</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span><span class="w"> </span>mpirun<span class="w"> </span>--bind-to<span class="w"> </span>none<span class="w"> </span>--map-by<span class="w"> </span>node<span class="w"> </span>-n<span class="w"> </span><span class="m">2</span><span class="w"> </span>pvbatch<span class="w"> </span>python/distributedPersistenceDiagram.py<span class="w"> </span><span class="m">256</span>
</code></pre></div>
Be aware that this may require too much memory to execute on a regular laptop.</p>
<h2 id="performance-timing">Performance timing<a class="headerlink" href="#performance-timing" title="Permanent link">&para;</a></h2>
<h3 id="disclaimer">Disclaimer<a class="headerlink" href="#disclaimer" title="Permanent link">&para;</a></h3>
<p>The distributed computation of persistence diagram has been evaluated on Sorbonne Universite's supercomputers. Therefore, the parameters of our <a href="https://arxiv.org/abs/2505.21266">algorithm</a> have been tuned for this system and they might yield slightly different performances on a different supercomputer. </p>
<h3 id="run-configuration">Run configuration<a class="headerlink" href="#run-configuration" title="Permanent link">&para;</a></h3>
<p>When using the above Python script with <code>pvbatch</code>, please make sure to adjust to your hardware the number of processes (<code>-n</code> option) and threads (<code>OMP_NUM_THREADS</code> variable). 
Note that TTK will default to a minimum number of 2 threads (to account for one communication thread) if the variable <code>OMP_NUM_THREADS</code> is set to a value smaller than 2.</p>
<p>For optimal performances, we recommend to use as many MPI processes as  compute nodes (mapping one MPI process per node, see the <code>--map-by node</code> option in the above command line), and as many threads as (virtual) cores per node (in conjunction with the <code>--bind-to none</code> option in the above command line). Also, for load balancing purposes, we recommend to use a number of processes (<code>-n</code> option) which is a power of 2 (e.g., 2, 4, 8, 16, 32, 64, etc.).</p>
<h3 id="measuring-time-performance">Measuring time performance<a class="headerlink" href="#measuring-time-performance" title="Permanent link">&para;</a></h3>
<p>For a precise time performance measurement, TTK needs to be built with the advanced CMake option <code>TTK_ENABLE_MPI_TIME</code> enabled.</p>
<p>In the terminal output, 
the full execution time of the distributed persistence computation (excluding IO) can be obtained by summing the times reported by the three following steps (<code>4.11599</code> seconds overall in this example):</p>
<ul>
<li><code>[ArrayPreconditioning-0] Array preconditioning performed using 2 MPI processes lasted: 0.047390</code></li>
<li><code>[DiscreteGradient-0] Computation performed using 2 MPI processes lasted: 2.172824</code></li>
<li><code>[DiscreteMorseSandwichMPI-0] Computation of persistence pairs performed using 2 MPI processes lasted: 1.895776</code></li>
</ul>
<h3 id="using-another-dataset">Using another dataset<a class="headerlink" href="#using-another-dataset" title="Permanent link">&para;</a></h3>
<p>To load another dataset, replace the string <code>backpack.vti</code> in the above Python script with the path to your input VTI file and run the script with <code>pvbatch</code> as described above.</p>
<h2 id="inputs">Inputs<a class="headerlink" href="#inputs" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://github.com/topology-tool-kit/ttk-data/raw/dev/backpack.vti">backpack.vti</a>:  A CT scan of a backpack filled with items.</li>
</ul>
<h2 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h2>
<ul>
<li><code>diagram.pvtu</code>: the persistence diagram of the backpack dataset.</li>
</ul>
<h2 id="cpython-api">C++/Python API<a class="headerlink" href="#cpython-api" title="Permanent link">&para;</a></h2>
<p><a href="https://topology-tool-kit.github.io/doc/html/classttkArrayPreconditioning.html">ArrayPreconditioning</a></p>
<p><a href="https://topology-tool-kit.github.io/doc/html/PersistenceDiagram_8h.html">PersistenceDiagram</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>